<?xml version="1.0"?>
<!--
  ~ Copyright (c) 2015, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.
  ~
  ~  WSO2 Inc. licenses this file to you under the Apache License,
  ~  Version 2.0 (the "License"); you may not use this file except
  ~  in compliance with the License.
  ~  You may obtain a copy of the License at
  ~
  ~    http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing,
  ~ software distributed under the License is distributed on an
  ~ "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
  ~ KIND, either express or implied.  See the License for the
  ~ specific language governing permissions and limitations
  ~ under the License.
  -->

<project name="playground3-app-build" default="playground3-app-build" basedir="../../../../../../">
    <description>
        This script builds a war file from the same playground app as another relying party
    </description>
    <!-- set global properties for this build -->
    <property name="build" location="${basedir}/target/test-classes/samples"/>
    <property name="playground2.webapp"
              location="${basedir}/target/test-classes/samples/playground2"/>
    <property name="playground2.webapp.classes" location="${playground2.webapp}/WEB-INF/classes"/>
    <property name="playground2.webapp.lib" location="${playground2.webapp}/WEB-INF/lib"/>

    <target name="playground3-app-build">
        <war destfile="${build}/playground3.war"
             webxml="${playground2.webapp}/WEB-INF/web.xml">
            <fileset dir="${playground2.webapp}/">
                <exclude name="**/WEB-INF/**"/>
            </fileset>
            <lib dir="${playground2.webapp.lib}/"/>
            <classes dir="${playground2.webapp.classes}/">
            </classes>
        </war>
    </target>
</project>